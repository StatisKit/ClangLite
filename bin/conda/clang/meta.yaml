package:
  name: clang
  version: "4.0.1"
    
source:
  fn: cfe-4.0.1.src.tar.xz
  url: http://llvm.org/releases/4.0.1/cfe-4.0.1.src.tar.xz
  patches:
    - 0001-Allow-disabling-libXML.patch
    - 0002-add-conda-specific-env-var-CONDA_BUILD_SYSROOT.patch
    - 0003-Fix-normalizeProgramName-s-handling-of-dots-ou.patch
  
build:
  number: 0
  skip: true        [osx]

about:
  home: http://www.llvm.org/
  license: The University of Illinois/NCSA Open Source License
  summary: The goal of the Clang project is to create a new C based language front-end (C, C++, Objective C/C++, OpenCL C and others) for the LLVM compiler.

requirements:
  build:
    - llvm 4.0.1
    - cmake
    - zlib
    - m2w64-xz                       [py27 and win]
    - 7za                            [win]
  run:
    - llvm 4.0.1

test:
  commands:
  - clang++ -x c++ -v -E /dev/null   [not win]
  - clang -x c -v -E /dev/null       [not win]
  - clang++ -x c++ -v -E nul         [win]
  - clang -x c -v -E nul             [win]